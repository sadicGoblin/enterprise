<div class="filter-container">
  <div class="filter-header improved-header">
    <div class="header-content">
      <h3>Filtros</h3>
      <div class="total-count">
        <mat-icon>analytics</mat-icon>
        <span>Total registros: <strong>{{totalRegistros}}</strong></span>
      </div>
    </div>
  </div>
  
  <div class="filter-content">
    <!-- Grupos de filtros expandibles -->
    <div class="filter-groups" *ngIf="filterGroups.length > 0">
      <!-- Grupo de filtros usando el nuevo multi-select con encabezado integrado -->
      <div class="filter-group" *ngFor="let group of filterGroups">
        <app-multi-select
          [groupName]="group.name"
          [groupIcon]="getFieldIconName(group.name)"
          [rawData]="data"
          [filterField]="group.filterField"
          [hierarchicalFilters]="hierarchicalFilters"
          (selectionChange)="handleSelectionChange($event, group)">
        </app-multi-select>
      </div>
    </div>
    
    <!-- Mensaje cuando no hay filtros disponibles -->
    <div class="no-filters" *ngIf="filterGroups.length === 0">
      <mat-icon>filter_alt_off</mat-icon>
      <p>No hay filtros disponibles</p>
    </div>
  </div>
</div>
