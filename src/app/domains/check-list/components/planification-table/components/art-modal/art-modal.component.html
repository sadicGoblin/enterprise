<div class="art-modal-container">
  <!-- Header fijo -->
  <div class="dialog-header">
    <h2>Análisis de Riesgo de Tarea (ART)</h2>
    <button mat-icon-button class="close-button" [mat-dialog-close]="false">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <div class="art-modal-content">
    <!-- Mensaje de error de validación -->
    <div *ngIf="showValidationErrors" class="validation-errors">
      <div class="error-message">
        <mat-icon color="warn">error</mat-icon>
        <span>Por favor, corrija los siguientes errores:</span>
      </div>
      <ul>
        <li *ngFor="let error of validationErrors">{{ error }}</li>
      </ul>
    </div>
    
    <!-- Contenido scrolleable -->
    <div class="scrollable-content">
      <mat-tab-group>
        <mat-tab label="Datos Generales">
          <app-art-forms></app-art-forms>
        </mat-tab>
        <mat-tab label="Elementos a Inspeccionar">
          <app-art-inspection-elements></app-art-inspection-elements>
        </mat-tab>
        <mat-tab label="Elementos a Seleccionar">
          <app-art-items-selection></app-art-items-selection>
        </mat-tab>
        <mat-tab label="Validación">
          <app-art-validation-section></app-art-validation-section>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
  
  <!-- Footer fijo con botones -->
  <div class="art-footer">
    <mat-divider></mat-divider>
    <div class="art-actions">
      <button mat-button [mat-dialog-close]="false" [disabled]="isSaving">Cancelar</button>
      <button mat-raised-button color="primary" (click)="saveArt()" [disabled]="isSaving">
        <span *ngIf="!isSaving">Guardar ART</span>
        <span *ngIf="isSaving" class="loading-indicator">
          <mat-icon class="spinner">sync</mat-icon> Guardando...
        </span>
      </button>
    </div>
  </div>
</div>
