<div class="validation-section-container">
  <div class="validation-row">
    <!-- Primer select: Equipo de Protección Personal -->
    <div class="validation-column">
      <div class="form-field">
        <label>Equipo Protección Personal a Utilizar</label>
        <mat-form-field appearance="outline" class="full-width">
          <mat-select [formControl]="protectionEquipmentControl" multiple>
            <mat-option
              *ngFor="let item of protectionEquipmentOptions"
              [value]="item.value"
            >
              {{ item.label }}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <div class="selection-count" *ngIf="protectionEquipmentControl.value && protectionEquipmentControl.value.length > 0">
          <mat-icon>check_circle</mat-icon>
          <span>{{ protectionEquipmentControl.value.length }} elemento(s) seleccionado(s)</span>
        </div>
      </div>
    </div>

    <!-- Segundo select: Control de Riesgo -->
    <div class="validation-column">
      <div class="form-field">
        <label>Control de Riesgo</label>
        <mat-form-field appearance="outline" class="full-width">
          <mat-select [formControl]="riskControlControl" multiple>
            <mat-option
              *ngFor="let item of riskControlOptions"
              [value]="item.value"
            >
              {{ item.label }}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <div class="selection-count" *ngIf="riskControlControl.value && riskControlControl.value.length > 0">
          <mat-icon>check_circle</mat-icon>
          <span>{{ riskControlControl.value.length }} elemento(s) seleccionado(s)</span>
        </div>
      </div>
    </div>

    <!-- Tercer select: Herramientas y Equipos -->
    <div class="validation-column">
      <div class="form-field">
        <label>Herramientas y/o Equipo a utilizar</label>
        <mat-form-field appearance="outline" class="full-width">
          <mat-select [formControl]="toolsEquipmentControl" multiple>
            <mat-option
              *ngFor="let item of toolsEquipmentOptions"
              [value]="item.value"
            >
              {{ item.label }}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <div class="selection-count" *ngIf="toolsEquipmentControl.value && toolsEquipmentControl.value.length > 0">
          <mat-icon>check_circle</mat-icon>
          <span>{{ toolsEquipmentControl.value.length }} elemento(s) seleccionado(s)</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Tabla para etapas de trabajo -->
  <div class="observations-section">
    <h3 class="section-title">Etapas del trabajo y riesgos asociados</h3>
    <div class="table-container">
      <table mat-table [dataSource]="dataSource" class="items-table">
        <!-- Columna de ejemplo (se puede modificar después) -->
        <ng-container matColumnDef="etapa">
          <th mat-header-cell *matHeaderCellDef>Etapas del Trabajo</th>
          <td mat-cell *matCellDef="let element">{{ element.etapa }}</td>
        </ng-container>

        <ng-container matColumnDef="riesgo">
          <th mat-header-cell *matHeaderCellDef>Riesgos Potenciales</th>
          <td mat-cell *matCellDef="let element">{{ element.riesgo }}</td>
        </ng-container>

        <ng-container matColumnDef="medida">
          <th mat-header-cell *matHeaderCellDef>
            Medidas para Controlar los Riesgos
          </th>
          <td mat-cell *matCellDef="let element">{{ element.medida }}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

        <!-- Fila para mostrar cuando no hay datos -->
        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="3">No hay datos disponibles</td>
        </tr>
      </table>
    </div>
  </div>
</div>
